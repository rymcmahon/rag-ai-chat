<div class="flex flex-col items-center w-2xl">
  <h1 class="text-xl font-bold text-center mb-4 text-gray-500">RAG Powered AI Chat &#x1F916;</h1>

  <div id="chat-container" class="w-full max-w-xl border bg-gray-50 border-gray-300 rounded-md shadow-lg p-4 flex flex-col h-[550px]">
    <div id="chat-messages" class="flex flex-col overflow-y-auto h-full space-y-2 pb-4">
      <!-- Messages are inserted here -->
    </div>

    <div id="chat-form" class="pt-2">
      <%= form_with url: "/ask", method: :post, data: { controller: "chat", action: "submit->chat#submit", turbo: true }, class: "flex space-x-2" do |form| %>
        <%= form.textarea :query, placeholder: "Ask a question...", class: "chat-input flex-1 p-2 border border-gray-300 rounded-md text-gray-500", data: { chat_target: "input" } %>
        <button type="submit" class="p-2 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-gray-400">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
          </svg>
        </button>
      <% end %>
    </div>
  </div>
</div>
